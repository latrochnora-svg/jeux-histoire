<!doctype html>
<html lang="fr">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ötzi — version classe stable</title>
<style>
  html,body{margin:0;height:100%;background:#0e141b;color:#e8eef6;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{display:flex;flex-direction:column;align-items:center;gap:10px;padding:16px}
  canvas{background:#93c5fd;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.35);width:960px;height:540px}
  .hud{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center;font-weight:600}
  .kbd{padding:2px 6px;border-radius:6px;background:#223049;font-family:ui-monospace,Menlo,Consolas,monospace}
  button{padding:8px 12px;border-radius:10px;border:0;background:#1f6feb;color:#fff;font-weight:700;cursor:pointer}
  button.secondary{background:#2b3950}
</style>

<div class="wrap">
  <h1>Ötzi — version classe stable</h1>
  <div class="hud">
    <span>Niveau: <b id="levelName">—</b></span>
    <span>Temps: <b id="time">—</b>s</span>
    <span>Pierre: <b id="stone">0</b></span>
    <span>Bois: <b id="wood">0</b></span>
    <span>Javelots: <b id="spears">3</b></span>
    <span>Vies: <b id="lives">3</b></span>
    <button id="btnStart">Lancer / Rejouer</button>
    <button id="btnPause" class="secondary">P: Pause</button>
  </div>
  <div>Commandes : <span class="kbd">← → ↑ ↓</span> / <span class="kbd">W A S D</span> • <span class="kbd">Espace</span> javelot • <span class="kbd">Entrée</span> narration.</div>
  <canvas id="game" width="960" height="540"></canvas>
</div>

<script>
const canvas=document.getElementById('game'), ctx=canvas.getContext('2d');
const UI=id=>document.getElementById(id);
const ui={ levelName:UI('levelName'), time:UI('time'), stone:UI('stone'), wood:UI('wood'), spears:UI('spears'), lives:UI('lives') };
const btnStart=document.getElementById('btnStart'), btnPause=document.getElementById('btnPause');

function rr(x,y,w,h,r){ ctx.beginPath(); c
